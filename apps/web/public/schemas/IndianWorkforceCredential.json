{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://bharatverify.io/schemas/v1/IndianWorkforceCredential.json",
    "title": "IndianWorkforceCredential",
    "description": "A Verifiable Credential for India's workforce, supporting education, skills, and financial credentials with privacy-preserving selective disclosure.",
    "type": "object",
    "required": [
        "@context",
        "type",
        "credentialSubject"
    ],
    "properties": {
        "@context": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "JSON-LD context defining the credential vocabulary"
        },
        "type": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "contains": {
                "const": "IndianWorkforceCredential"
            },
            "description": "Credential type, must include IndianWorkforceCredential"
        },
        "id": {
            "type": "string",
            "format": "uri",
            "description": "Unique identifier for this credential instance"
        },
        "issuer": {
            "oneOf": [
                {
                    "type": "string",
                    "format": "uri"
                },
                {
                    "type": "object",
                    "required": [
                        "id"
                    ],
                    "properties": {
                        "id": {
                            "type": "string",
                            "format": "uri"
                        }
                    }
                }
            ],
            "description": "DID of the credential issuer"
        },
        "issuanceDate": {
            "type": "string",
            "format": "date-time",
            "description": "Date and time when the credential was issued"
        },
        "expirationDate": {
            "type": "string",
            "format": "date-time",
            "description": "Date and time when the credential expires"
        },
        "credentialSubject": {
            "type": "object",
            "required": [
                "id",
                "referenceId",
                "aadhaarHash",
                "fullName",
                "dateOfBirth",
                "skillSet",
                "isGraduated"
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "format": "uri",
                    "description": "DID of the credential holder"
                },
                "referenceId": {
                    "type": "string",
                    "pattern": "^BV-[0-9]+-[A-Z0-9]+$",
                    "description": "Unique reference ID for this credential (format: BV-{timestamp}-{random})"
                },
                "aadhaarHash": {
                    "type": "string",
                    "minLength": 64,
                    "maxLength": 64,
                    "pattern": "^[a-f0-9]{64}$",
                    "description": "SHA-256 hash of the holder's Aadhaar number (privacy-preserving)"
                },
                "fullName": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 200,
                    "description": "Full name of the credential holder"
                },
                "dateOfBirth": {
                    "type": "string",
                    "format": "date",
                    "description": "Date of birth in YYYY-MM-DD format"
                },
                "skillSet": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 500,
                    "description": "Primary skill set or qualification of the holder"
                },
                "isGraduated": {
                    "type": "boolean",
                    "description": "Whether the holder has completed graduation"
                },
                "cibilScore": {
                    "type": "integer",
                    "minimum": -1,
                    "maximum": 900,
                    "description": "CIBIL credit score (300-900, or -1 if not applicable)"
                },
                "institutionName": {
                    "type": "string",
                    "maxLength": 300,
                    "description": "Name of the issuing institution (e.g., Delhi University)"
                },
                "degreeTitle": {
                    "type": "string",
                    "maxLength": 200,
                    "description": "Title of the degree or certificate (e.g., B.Tech in Computer Science)"
                },
                "completionYear": {
                    "type": "integer",
                    "minimum": 1900,
                    "maximum": 2100,
                    "description": "Year of degree/certification completion"
                },
                "grade": {
                    "type": "string",
                    "maxLength": 50,
                    "description": "Grade or CGPA achieved (e.g., 8.5 CGPA, First Class)"
                }
            }
        },
        "credentialSchema": {
            "type": "object",
            "required": [
                "id",
                "type"
            ],
            "properties": {
                "id": {
                    "type": "string",
                    "format": "uri"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "proof": {
            "type": "object",
            "description": "Digital proof of the credential (added by issuer)"
        }
    }
}